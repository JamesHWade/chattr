<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Integrates LLM's with the RStudio IDE.">
<title>Integrates LLM's with the RStudio IDE • chattr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="deps/Lato-0.4.6/font.css" rel="stylesheet">
<link href="deps/Roboto_Mono-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Integrates LLM's with the RStudio IDE">
<meta property="og:description" content="Integrates LLM's with the RStudio IDE.">
<meta property="og:image" content="https://mlverse.github.io/chattr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">chattr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9004</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/backend-llamagpt.html">Interact with local models</a>
    <a class="dropdown-item" href="articles/prompt_defaults.html">Modify prompt enhancements</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlverse/chattr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="chattr">chattr<a class="anchor" aria-label="anchor" href="#chattr"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<p><img src="reference/figures/readme/chattr.gif"></p>
<!-- toc: start -->
<ul>
<li><a href="#intro">Intro</a></li>
<li><a href="#available-models">Available models</a></li>
<li><a href="#install">Install</a></li>
<li>
<a href="#getting-started">Getting Started</a>
<ul>
<li><a href="#secret-key">Secret key</a></li>
<li><a href="#test-connection">Test connection</a></li>
</ul>
</li>
<li>
<a href="#using">Using</a>
<ul>
<li><a href="#the-app">The App</a></li>
<li><a href="#keyboard-shortcut">Keyboard Shortcut</a></li>
</ul>
</li>
<li><a href="#how-it-works">How it works</a></li>
<li>
<a href="#appendix">Appendix</a>
<ul>
<li><a href="#how-to-setup-the-keyboard-shortcut">How to setup the keyboard shortcut</a></li>
</ul>
</li>
</ul>
<!-- toc: end --><div class="section level2">
<h2 id="intro">Intro<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p><code>chattr</code> is an interface to LLMs (Large Language Models). It enables interaction with the model directly from the RStudio IDE. <code>chattr</code> allows you to submit a prompt to the LLM from your script, or by using the provided Shiny Gadget.</p>
<p><code>chattr</code>’s main goal is to aid in EDA tasks. The additional information appended to your request, provides a sort of “guard rails”, so that the packages and techniques we usually recommend as best practice, are used in the model’s responses.</p>
</div>
<div class="section level2">
<h2 id="available-models">Available models<a class="anchor" aria-label="anchor" href="#available-models"></a>
</h2>
<p><code>chattr</code> provides two main integration with two main LLM back-ends. Each back-end provides access to multiple LLM types:</p>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 77%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">
Provider
</th>
<th style="text-align: center;">
Models
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">
<a href="https://platform.openai.com/docs/introduction" class="external-link">OpenAI</a>
</td>
<td style="text-align: center;">
GPT Models accessible via the OpenAI’s REST API. <code>chattr</code> provides a convenient way to interact with GPT 3.5, and DaVinci 3.
</td>
</tr>
<tr class="even">
<td style="text-align: center;">
<a href="https://github.com/kuvaus/LlamaGPTJ-chat" class="external-link">LLamaGPT-Chat</a>
</td>
<td style="text-align: center;">
LLM models available in your computer. Including GPT-J, LLaMA, and MPT. Tested on a <a href="https://gpt4all.io/index.html" class="external-link">GPT4ALL</a> model. <strong>LLamaGPT-Chat</strong> is a command line chat program for models written in C++.
</td>
</tr>
</tbody>
</table>
<p>The idea is that as time goes by, more back-ends will be added.</p>
</div>
<div class="section level2">
<h2 id="install">Install<a class="anchor" aria-label="anchor" href="#install"></a>
</h2>
<p>Since this is a very early version of the package install the package from Github:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"edgararuiz/chattr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="section level3">
<h3 id="secret-key">Secret key<a class="anchor" aria-label="anchor" href="#secret-key"></a>
</h3>
<p>OpenAI requires a <strong>secret key</strong> to authenticate your user. It is required for any application non-OpenAI application, such as <code>chattr</code>, to have one in order to function. A key is a long alphanumeric sequence. The sequence is created in the OpenAI portal. To obtain your <strong>secret key</strong>, follow this link: <a href="https://platform.openai.com/account/api-keys" class="external-link">OpenAI API Keys</a></p>
<p>By default, <code>chattr</code> will look for the <strong>secret key</strong> inside the a Environment Variable called <code>OPENAI_API_KEY</code>. Other packages that integrate with OpenAI use the same variable name.</p>
<p>Use <code><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv()</a></code> to set the variable. The downside of using this method is that the variable will only be available during the current R session:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span> <span class="op">=</span> <span class="st">"####################"</span><span class="op">)</span></span></code></pre></div>
<p>A preferred method is to save the secret key to the <code>.Renviron</code> file. This way, there is no need to load the environment variable every time you start a new R session. The <code>.Renviron</code> file is available in your home directory. Here is an example of the entry:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>OPENAI_API_KEY<span class="ot">=</span><span class="do">####################</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="test-connection">Test connection<a class="anchor" aria-label="anchor" href="#test-connection"></a>
</h3>
<p>Use the <code><a href="reference/chattr_test.html">chattr_test()</a></code> function to confirm that your connection works:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chattr_test</span>()</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>✔ Connection with OpenAI cofirmed</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>✔ Access to models confirmed</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="using">Using<a class="anchor" aria-label="anchor" href="#using"></a>
</h2>
<div class="section level3">
<h3 id="the-app">The App<a class="anchor" aria-label="anchor" href="#the-app"></a>
</h3>
<p>The main way to use <code>chattr</code> is through the Shiny Gadget app. By default, it runs inside the Viewer pane. The fastest way to activate the app is by calling it via the provided function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">chattr</span><span class="fu">::</span><span class="fu"><a href="reference/chattr_app.html">chattr_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/readme/chat1.png" alt=""><p class="caption">Screenshot of the Sniny gadget app in a dark mode RStudio theme</p>
</div>
<p>A lot of effort was put in to make the app’s appearance as close as possible to the IDE. This way it feels more integrated with your work space. This includes switching the color scheme based on the current RStudio theme being light, or dark.</p>
<p>Automatically, the app will automatically add buttons to each code section. The buttons lets us copy the code to the clipboard, or to send it to the document. If you <a href="#keyboard-shortcut">“call”</a> the app from a Quarto document, the app will envelop the code inside a chunk.</p>
</div>
<div class="section level3">
<h3 id="keyboard-shortcut">Keyboard Shortcut<a class="anchor" aria-label="anchor" href="#keyboard-shortcut"></a>
</h3>
<p>The best way to access <code>chattr</code>’s app is by setting up a keyboard shortcut for it. This package includes an RStudio Addin that gives us direct access to the app, which in turn, allows a <strong>keyboard shortcut</strong> to be assigned to the addin. The name of the addin is: “Open Chat”. If you are not familiar with how to assign a keyboard shortcut to the adding see the Appendix section: <a href="#how-to-setup-the-keyboard-shortcut">How to setup the keyboard shortcut</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="how-it-works">How it works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p><code>chattr</code> enriches your request with additional instructions, name and structure of data frames currently in your environment, the path for the data files in your working directory. If supported by the model, <code>chattr</code> will include the current chat history.</p>
<div class="figure">
<img src="reference/figures/readme/chattr-diagram.png" alt=""><p class="caption">Diagram that illustrates how chattr handles model requests</p>
</div>
<p>To see what <code>chattr</code> will send to the model, set the <code>preview</code> argument to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlverse/chattr" class="external-link">chattr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/chattr.html">chattr</a></span><span class="op">(</span>preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── chattr ──────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preview for: Console</span></span>
<span><span class="co">#&gt; • Provider: Open AI - Chat Completions</span></span>
<span><span class="co">#&gt; • Model: gpt-3.5-turbo</span></span>
<span><span class="co">#&gt; • temperature: 0.01</span></span>
<span><span class="co">#&gt; • max_tokens: 1000</span></span>
<span><span class="co">#&gt; • stream: TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Prompt:</span></span>
<span><span class="co">#&gt; role: system</span></span>
<span><span class="co">#&gt; content: You are a helpful coding assistant</span></span>
<span><span class="co">#&gt; role: user</span></span>
<span><span class="co">#&gt; content:</span></span>
<span><span class="co">#&gt; * Use the 'Tidy Modeling with R' (https://www.tmwr.org/) book as main reference</span></span>
<span><span class="co">#&gt; * Use the 'R for Data Science' (https://r4ds.had.co.nz/) book as main reference</span></span>
<span><span class="co">#&gt; * Use tidyverse packages: readr, ggplot2, dplyr, tidyr</span></span>
<span><span class="co">#&gt; * For models, use tidymodels packages: recipes, parsnip, yardstick, workflows,</span></span>
<span><span class="co">#&gt; broom</span></span>
<span><span class="co">#&gt; * Avoid explanations unless requested by user, expecting code only</span></span>
<span><span class="co">#&gt; * Data files available:</span></span>
<span><span class="co">#&gt; |- docs/deps/data-deps.txt</span></span>
<span><span class="co">#&gt; |- inst/prompt/base.txt</span></span>
<span><span class="co">#&gt; * Data frames currently in R memory (and columns):</span></span>
<span><span class="co">#&gt; |-- iris (Sepal.Length, Sepal.Width, Petal.Length, Petal.Width, Species)</span></span>
<span><span class="co">#&gt; |-- mtcars (mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb)</span></span>
<span><span class="co">#&gt; [Your future prompt goes here]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="appendix">Appendix<a class="anchor" aria-label="anchor" href="#appendix"></a>
</h2>
<div class="section level3">
<h3 id="how-to-setup-the-keyboard-shortcut">How to setup the keyboard shortcut<a class="anchor" aria-label="anchor" href="#how-to-setup-the-keyboard-shortcut"></a>
</h3>
<ul>
<li>
<p>Select <em>Tools</em> in the top menu, and then select <em>Modify Keyboard Shortcuts</em></p>
<p><img src="reference/figures/readme/keyboard-shortcuts.png" width="700" alt="Screenshot that shows where to find the option to modify the keyboard shortcuts"></p>
</li>
<li>
<p>Search for the <code>chattr</code> adding by writing “open chat”, in the search box</p>
<p><img src="reference/figures/readme/addin-find.png" width="500" alt="Screenshot that shows where to input the addin search"></p>
</li>
<li>
<p>To select a key combination for your shortcut, click on the Shortcut box and then type <em>press</em> the key combination in your keyboard. In my case, I chose <em>Ctrl+Shift+C</em></p>
<p><img src="reference/figures/readme/addin-assign.png" width="500" alt="Screenshot that shows what the interface looks like when a shortcut has been selected"></p>
</li>
</ul>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mlverse/chattr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mlverse/chattr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing chattr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edgar Ruiz <br><small class="roles"> Author, maintainer </small>  </li>
<li>Posit Software, PBC <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/edgararuiz/chattr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/edgararuiz/chattr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/edgararuiz/chattr?branch=main" class="external-link"><img src="https://codecov.io/gh/edgararuiz/chattr/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=chattr" class="external-link"><img src="https://www.r-pkg.org/badges/version/chattr.png" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="reference/figures/lifecycle-experimental.svg"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edgar Ruiz, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
